version: 2

models:
  - name: stg_family
    description: >
      Contains detailed information about RNA families, including thresholds, structure, and evaluation metrics. Each family groups related RNA sequences based on function or structure.
    columns:
      - name: rfam_acc
        description: Unique accession ID for the RNA family. Primary key.
      - name: rfam_id
        description: A readable identifier name for the RNA family.
      - name: auto_wiki
        description: Internal ID for linking to an autogenerated wiki entry.
      - name: description
        description: Short description of the RNA family’s function or characteristics.
      - name: author
        description: Contributor(s) who defined or submitted the family.
      - name: seed_source
        description: Source data used to generate the seed alignment.
      - name: gathering_cutoff
        description: Score threshold for determining family membership.
      - name: trusted_cutoff
        description: Score threshold indicating strong sequence similarity.
      - name: noise_cutoff
        description: Minimum score below which matches are considered noise.
      - name: comment
        description: Notes and contextual information about the family.
      - name: previous_id
        description: Former identifier used for the family, if renamed.
      - name: cmbuild
        description: Software version used for covariance model building.
      - name: cmcalibrate
        description: Version of the calibration software applied.
      - name: cmsearch
        description: Version of the search software used for this family.
      - name: num_seed
        description: Number of sequences in the seed alignment.
      - name: num_full
        description: Number of sequences in the full alignment.
      - name: num_genome_seq
        description: Number of genome-derived sequences in the family.
      - name: num_refseq
        description: Number of reference sequences linked to the family.
      - name: type
        description: Biological type of RNA (e.g., miRNA, snoRNA).
      - name: structure_source
        description: Source for any known structural data.
      - name: number_of_species
        description: Count of species represented in this family.
      - name: number_3d_structures
        description: Number of known 3D structures related to this family.
      - name: tax_seed
        description: Taxonomic range of the seed alignment sequences.
      - name: ecmli_lambda
        description: Lambda parameter from model calibration.
      - name: ecmli_mu
        description: Mu parameter from model calibration.
      - name: ecmli_cal_db
        description: Database used for calibration of the evolutionary model.
      - name: ecmli_cal_hits
        description: Number of calibration hits used for the evolutionary model.
      - name: maxid
        description: Maximum identity percentage among aligned sequences.
      - name: clen
        description: Length of the consensus RNA sequence.
      - name: match_pair_node
        description: Indicates if match-pair nodes were used (true/false).
      - name: hmm_tau
        description: Tau parameter from the HMM model.
      - name: hmm_lambda
        description: Lambda parameter from the HMM model.
      - name: created
        description: Timestamp of when the family was first added.
      - name: updated
        description: Timestamp of the most recent update to the family.

  - name: stg_clan
    description: >
      Represents a grouping of RNA families called "clans" that are likely evolutionarily or functionally related.
    columns:
      - name: clan_acc
        description: Unique accession ID for the clan. Primary key.
      - name: id
        description: A readable label or short name for the clan.
      - name: previous_id
        description: Former label used for this clan, if applicable.
      - name: description
        description: Summary of what connects the RNA families in this clan.
      - name: author
        description: Contributor(s) who defined the clan.
      - name: comment
        description: Notes about the clan’s origin, grouping criteria, or structure.

  - name: stg_clan_membership
    description: >
      Join table mapping each RNA family to a clan, showing which families belong to which higher-order groupings.
    columns:
      - name: clan_acc
        description: Accession ID for the clan. Foreign key to stg_clan.clan_acc.
      - name: rfam_acc
        description: Accession ID for the RNA family. Foreign key to stg_family.rfam_acc.
